<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../jouley-icons/jouley-icons.html">

<dom-module id="jouley-control-button">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <iron-icon icon="jouley-icons:[[control]]" on-tap="_fireEvent"></iron-icon>
  </template>

  <script>
    Polymer({

      is: 'jouley-control-button',

      properties: {
        control: String
      },

      set _icon(value) {
        Polymer.dom(this._iconElement).icon = value;
      },

      set control(value) {
        if (value) {
          this._icon = value;
        }
      },

      get _iconElement() {
        return Polymer.dom(this.root).querySelector('iron-icon');
      },

      /**
       * Fires the 'control-change' event
       *
       * @returns the value of this.control
       */
      _fireEvent: function() {
        this.fire('control-change', this.control);
      }

    });
  </script>
</dom-module>
